(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{172:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(5155),l=r(142);let s=e=>{let{productId:t}=e,{cartItems:r,updateCart:s}=(0,l.x)();return(0,a.jsx)("button",{onClick:()=>{r.find(e=>e.productId===t)?s(r.map(e=>e.productId===t?{...e,quantity:e.quantity+1}:e)):s([...r,{productId:t,quantity:1,addedAt:new Date}])},className:"absolute border bottom-2 left-2 right-2 border-primary hover:text-white hover:bg-[var(--color-secondary)]   hover:border-transparent active:shadow-(--shadow-button-active) h-10 rounded justify-center items-center text-primary   transition-all duration-300 cursor-pointer select-none",children:"В корзину"})}},189:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(5155),l=r(8167),s=r(3982);let i=e=>{let{productId:t}=e,{toggleFavourite:r,isFavourite:i}=(0,l.Q)(),n=i(t);return(0,a.jsx)("button",{onClick:()=>{r(t)},className:"w-8 h-8 p-2 bg-[#f3f2f1] hover:bg-[#ddd5d5] absolute top-2 right-2 \n            rounded duration-300 z-10 flex items-center justify-center",title:n?"Удалить из избранного":"Добавить в избранное",children:(0,a.jsx)(s.A,{isActive:n})})}},499:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var a=r(5155),l=r(6766);let s=e=>e.toFixed(2).replace(".",","),i=e=>{let{rating:t}=e,r=[];for(let e=1;e<=5;e++){let l=Math.max(0,Math.min(1,t-(e-1))),s=Math.round(100*l);r.push((0,a.jsxs)("div",{className:"relative w-[12.92px] h-[12.39px]",children:[(0,a.jsx)("svg",{width:"12.921875",height:"12.386719",viewBox:"0 0 12.9219 12.3867",children:(0,a.jsx)("path",{id:"Star 1",d:"M5.56 0.55L4.34 3.03C4.19 3.32 3.91 3.53 3.58 3.57L0.85 3.97C0.03 4.09 -0.3 5.1 0.3 5.68L2.28 7.6C2.51 7.83 2.62 8.16 2.56 8.49L2.1 11.21C1.96 12.03 2.81 12.65 3.55 12.26L5.99 10.98C6.28 10.83 6.63 10.83 6.92 10.98L9.37 12.26C10.1 12.65 10.96 12.03 10.82 11.21L10.35 8.49C10.29 8.16 10.4 7.83 10.64 7.6L12.61 5.68C13.21 5.1 12.88 4.09 12.06 3.97L9.33 3.57C9 3.53 8.72 3.32 8.57 3.03L7.35 0.55C6.99 -0.19 5.93 -0.19 5.56 0.55Z",fill:"#BFBFBF",fillOpacity:"1",className:"absolute"})}),l>0&&(0,a.jsx)("div",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:"".concat(s,"%")},children:(0,a.jsx)("svg",{width:"12.921875",height:"12.386719",viewBox:"0 0 12.9219 12.3867",children:(0,a.jsx)("path",{id:"Star 1",d:"M5.56 0.55L4.34 3.03C4.19 3.32 3.91 3.53 3.58 3.57L0.85 3.97C0.03 4.09 -0.3 5.1 0.3 5.68L2.28 7.6C2.51 7.83 2.62 8.16 2.56 8.49L2.1 11.21C1.96 12.03 2.81 12.65 3.55 12.26L5.99 10.98C6.28 10.83 6.63 10.83 6.92 10.98L9.37 12.26C10.1 12.65 10.96 12.03 10.82 11.21L10.35 8.49C10.29 8.16 10.4 7.83 10.64 7.6L12.61 5.68C13.21 5.1 12.88 4.09 12.06 3.97L9.33 3.57C9 3.53 8.72 3.32 8.57 3.03L7.35 0.55C6.99 -0.19 5.93 -0.19 5.56 0.55Z",fill:"var(--color-secondary)",fillOpacity:"1"})})})]},e))}return(0,a.jsx)("div",{className:"flex flex-row gap-1",children:r})};var n=r(6874),c=r.n(n),o=r(189),d=r(172),x=r(9235);let h=e=>{let{id:t,img:r,description:n,basePrice:h,discountPercent:u=0,rating:m,category:f}=e,p=(e,t)=>t>0?e*(1-t/100):e,g=p(h,u),b=p(g,x.P.CARD_DISCOUNT_PERCENT),v=(null==m?void 0:m.rate)||5,j="/catalog/".concat(encodeURIComponent(f),"/").concat(t,"?desc=").concat(encodeURIComponent(n.substring(0,50)));return(0,a.jsxs)("div",{className:"relative flex flex-col justify-between w-40 rounded overflow-hidden bg-white md:w-[224px] xl:w-[272px] h-[349px] align-top p-0 hover:shadow-(--shadow-article) duration-300",children:[(0,a.jsx)(o.default,{productId:t.toString()}),(0,a.jsxs)(c(),{href:j,children:[(0,a.jsxs)("div",{className:"relative aspect-square w-40 h-40 md:w-[224px] xl:w-[272px]",children:[(0,a.jsx)(l.default,{src:r,alt:"Товар",fill:!0,className:"object-contain",priority:!1,sizes:"(max-width: 768px) 160px, (max-width: 1280px) 224px, 272px"}),u>0&&(0,a.jsxs)("div",{className:"absolute bg-[var(--color-secondary)] py-1 px-2 rounded text-white bottom-2.5 left-2.5",children:["-",u,"%"]})]}),(0,a.jsxs)("div",{className:"flex flex-col p-2 h-[189px]",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-start h-[45px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-x-1",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-x-1 text-sm md:text-lg font-bold text-main-text",children:[(0,a.jsx)("span",{children:s(b)}),(0,a.jsx)("span",{children:"₽"})]}),(0,a.jsx)("p",{className:"text-[#bfbfbf] text-[8px] md:text-xs",children:"С картой"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-x-1",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-x-1 text-xs md:text-base text-[#606060]",children:[(0,a.jsx)("span",{children:s(g)}),(0,a.jsx)("span",{children:"₽"})]}),(0,a.jsx)("p",{className:"text-[#bfbfbf] text-[8px] md:text-xs text-right",children:"Обычная"})]})]}),(0,a.jsx)("div",{className:"h-13.5 text-xs md:text-base text-main-text line-clamp-3 md:line-clamp-2 leading-[1.5]",children:n}),(0,a.jsx)(i,{rating:v})]})]}),(0,a.jsx)(d.default,{productId:t.toString()})]})}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return n}});let a=r(8229),l=r(8883),s=r(3063),i=a._(r(1193));function n(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/petshop/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=s.Image},2902:(e,t,r)=>{Promise.resolve().then(r.bind(r,6022))},3982:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155);let l=e=>{let{isActive:t}=e;return(0,a.jsxs)("svg",{viewBox:"0 0 24 24",width:"24.000000",height:"24.000000",fill:"none",children:[(0,a.jsx)("rect",{id:"feather-icon / heart",width:"24.000000",height:"24.000000",x:"0.000000",y:"0.000000",fill:"rgb(255,255,255)",fillOpacity:"0"}),(0,a.jsx)("path",{id:"Shape (Stroke)",d:"M12.7046 4.25644C13.8299 3.13067 15.3564 2.49817 16.9482 2.49817C18.5399 2.49817 20.0664 3.13063 21.1916 4.25636C22.3174 5.38164 22.95 6.90829 22.95 8.49999C22.95 10.0917 22.3175 11.6183 21.1917 12.7435L12.3517 21.5835C12.1565 21.7788 11.8399 21.7788 11.6446 21.5835L2.80461 12.7435C0.460963 10.3999 0.460963 6.60009 2.80461 4.25644C5.14826 1.91279 8.94807 1.91279 11.2917 4.25644L11.9982 4.96289L12.7046 4.25644ZM16.9482 3.49817C15.6217 3.49817 14.3496 4.02528 13.4118 4.96346L12.3517 6.02355C12.258 6.11732 12.1308 6.16999 11.9982 6.16999C11.8656 6.16999 11.7384 6.11732 11.6446 6.02355L10.5846 4.96355C8.63149 3.01042 5.46484 3.01042 3.51172 4.96355C1.55859 6.91667 1.55859 10.0833 3.51172 12.0364L11.9982 20.5229L20.4846 12.0364C21.4228 11.0987 21.95 9.82648 21.95 8.49999C21.95 7.17351 21.4229 5.90138 20.4847 4.96363C19.5469 4.02544 18.2747 3.49817 16.9482 3.49817Z",fill:t?"var(--color-secondary)":"#606060",fillRule:"evenodd"})]})}},4268:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a={src:"/petshop/_next/static/media/icon-arrow-right.f358c76b.svg",height:24,width:24,blurWidth:0,blurHeight:0}},5453:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var a=r(2115);let l=e=>{let t,r=new Set,a=(e,a)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=a?a:"object"!=typeof l||null===l)?l:Object.assign({},t,l),r.forEach(r=>r(t,e))}},l=()=>t,s={setState:a,getState:l,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,l,s);return s},s=e=>{let t=(e=>e?l(e):l)(e),r=e=>(function(e,t=e=>e){let r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},i=e=>e?s(e):s},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6022:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var a=r(5155),l=r(499),s=r(6766),i=r(4268),n=r(6874),c=r.n(n);let o=e=>{let{btnText:t,href:r}=e;return(0,a.jsxs)(c(),{href:r,className:"flex flex-row items-center gap-x-2 cursor-pointer",children:[(0,a.jsx)("p",{className:"text-base text-center text-[#606060] hover:text-[#bfbfbf] duration-300",children:t}),(0,a.jsx)(s.default,{src:i.default,alt:t,width:24,height:24,sizes:"24px"})]})},d=e=>{let{title:t,viewAllButton:r,products:s,contentType:i,compact:n=!1}=e;return(0,a.jsxs)("section",{className:"flex flex-col px-[max(12px,calc((100%-1208px)/2))]",children:[(0,a.jsxs)("div",{className:"mb-4 md:mb-8 xl:mb-10 flex flex-row justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl xl:text-4xl text-left font-bold text-[#414141]",children:t}),r&&(0,a.jsx)(o,{btnText:r.text,href:r.href})]}),(0,a.jsx)("ul",{className:"grid ".concat("category"===i?"grid-cols-2 md:grid-cols-3":"grid-cols-2 md:grid-cols-3 xl:grid-cols-4"," gap-4 md:gap-6 xl:gap-10 justify-items-center"),children:s.map((e,t)=>(0,a.jsx)("li",{className:n?"".concat(t>=4?"hidden":"","\n             ").concat(t>=3?"md:hidden xl:block":"","\n             ").concat(t>=4?"xl:hidden":""):"",children:(0,a.jsx)(l.A,{...e})},e.id))})]})};var x=r(9235),h=r(2115),u=r(5695);let m=(e,t,r)=>{let a=new URLSearchParams(t);return a.set("page",r.toString()),"".concat(e,"?").concat(a.toString())},f=e=>{let{totalItems:t,currentPage:r,basePath:l,itemsPerPage:s,searchQuery:i}=e,n=Math.ceil(t/s),o=new URLSearchParams(i),d=((e,t)=>{if(e<=5)return Array.from({length:e},(e,t)=>t+1);let r=Math.max(1,t-2),a=Math.min(e,t+2);t<=3?a=5:t>=e-2&&(r=e-4);let l=[];r>1&&l.push(1),r>2&&l.push("...");for(let e=r;e<=a;e++)l.push(e);return a<e-1&&l.push("..."),a<e&&l.push(e),l})(n,r),x="w-5 h-5 md:w-10 md:h-10 flex items-center justify-center rounded duration-300",h="bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary)]",u="bg-[#cebdce] cursor-not-allowed",f="border border-[var(--color-primary)] ".concat(x);return(0,a.jsx)("div",{className:"flex justify-center mt-10 mb-20 text-white text-sm md: text-base",children:(0,a.jsxs)("nav",{className:"flex gap-1 md: gap-2 items-center",children:[(0,a.jsx)(c(),{href:m(l,o,1),"aria-disabled":1===r,tabIndex:1===r?-1:void 0,className:"".concat(x," ").concat(1===r?u:h),children:"\xab"}),(0,a.jsx)(c(),{href:m(l,o,r-1),"aria-disabled":1===r,tabIndex:1===r?-1:void 0,className:"".concat(x," ").concat(1===r?u:h),children:"‹"}),d.map((e,t)=>"..."===e?(0,a.jsx)("span",{className:"".concat(x," text-[var(--color-primary)]"),children:"..."},"ellipsis-".concat(t)):(0,a.jsx)(c(),{href:m(l,o,e),className:"".concat(f," ").concat(r===e?"bg-[var(--color-primary)] text-white border-transparent":"text-[var(--color-primary)] bg-white hover:bg-[var(--color-primary)] hover:text-white hover:border-transparents"),children:e},e)),(0,a.jsx)(c(),{href:m(l,o,r+1),"aria-disabled":r===n,tabIndex:r===n?-1:void 0,className:"".concat(x," ").concat(r===n?u:h),children:"›"}),(0,a.jsx)(c(),{href:m(l,o,n),"aria-disabled":r===n,tabIndex:r===n?-1:void 0,className:"".concat(x," ").concat(r===n?u:h),children:"\xbb"})]})})},p=e=>{let t,{totalItems:r,currentPage:l,basePath:s,contentType:i}=e;t="article"===i?1:"category"===i?x.P.ITEMS_PER_PAGE_CATEGORY:x.P.ITEMS_PER_PAGE;let[n,c]=(0,h.useState)(t),o=(0,u.useSearchParams)(),d=(0,u.useRouter)();return(0,h.useEffect)(()=>{let e=()=>{let e=function(e){let t=window.innerWidth;return"article"===e?t<640?1:3:"category"===e?t<768?8:6:t<768?2:t<1280?3:4}(i);if(e===n)return;c(e);let t=new URLSearchParams(o.toString());t.set("itemsPerPage",e.toString()),t.set("page","1"),d.replace("".concat(s,"?").concat(t.toString()),{scroll:!1})};e();let t=function(e,t){let r;return function(){for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];window.clearTimeout(r),r=window.setTimeout(()=>e(...l),t)}}(e,200);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[n,o,s,d,i]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f,{totalItems:r,currentPage:l,basePath:s,itemsPerPage:n,searchQuery:o.toString()})})},g=e=>{let{img:t,title:r,createdAt:l,text:i}=e;return(0,a.jsxs)("article",{className:"bg-white h-full flex flex-col rounded overflow-hidden shadow-(--shadow-card) hover:shadow-(--shadow-article) duration-300",children:[(0,a.jsx)("div",{className:"relative h-48 w-full",children:(0,a.jsx)(s.default,{src:t,alt:r,fill:!0,className:"object-cover",quality:100,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw"})}),(0,a.jsxs)("div",{className:"p-2.5 flex-1 flex flex-col gap-y-2.5 leading-[1.5]",children:[(0,a.jsx)("time",{className:"text-[8px] text-[#8f8f8f]",children:new Date(l).toLocaleDateString("ru-RU")}),(0,a.jsx)("h3",{className:"text-[#414141] text-base font-bold xl:text-lg",children:r}),(0,a.jsx)("p",{className:"text-[#414141] line-clamp-3 text-xs xl:text-base",children:i}),(0,a.jsx)("button",{className:"rounded mt-auto w-37.5 h-10 text-[#70C05B] border border-primary text-primary   hover:bg-(--color-primary) hover:shadow-(--shadow-button-secondary) hover:text-white active:shadow-(--shadow-button-active) duration-300 cursor-pointer",children:"Подробнее"})]})]})},b=e=>{let{title:t,viewAllButton:r,articles:l,compact:s=!1}=e;return(0,a.jsxs)("section",{className:"flex flex-col text-[#414141] mb-4 md:mb-8 xl:mb-10 ".concat(s?"mt-20":"px-[max(12px,calc((100%-1208px)/2))]"),children:[(0,a.jsxs)("div",{className:"mb-4 md:mb-8 xl:mb-10 flex flex-row justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl xl:text-4xl text-left font-bold",children:t}),r&&(0,a.jsx)(o,{btnText:r.text,href:r.href})]}),(0,a.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-6",children:l.map((e,t)=>(0,a.jsx)("li",{className:"h-75 md:h-105 ".concat(s?"".concat(t>=4?"hidden":"","\n                ").concat(t>=3?"md:hidden xl:block":"","\n                ").concat(t>=4?"xl:hidden":""):""),children:(0,a.jsx)(g,{...e})},t))})]})},v=e=>{let{props:t}=e,r=(0,u.useSearchParams)(),l=null==r?void 0:r.get("page"),s=null==r?void 0:r.get("itemsPerPage"),i="category"===t.contentType?x.P.ITEMS_PER_PAGE_CATEGORY:x.P.ITEMS_PER_PAGE,n=Number(l)||1,c=Number(s||i),o=(n-1)*c,h=t.data,m=h.slice(o,o+c);return(0,a.jsxs)(a.Fragment,{children:[t.contentType&&"category"!==t.contentType?(0,a.jsx)(b,{title:t.pageTitle,articles:m}):(0,a.jsx)(d,{title:t.pageTitle,products:m,applyIndexStyles:"category"!==t.contentType,contentType:t.contentType}),h.length>c&&(0,a.jsx)(p,{totalItems:h.length,currentPage:n,basePath:t.basePath,contentType:t.contentType})]})},j=e=>{let{props:t}=e;return(0,a.jsx)(h.Suspense,{fallback:null,children:(0,a.jsx)(v,{props:t})})}},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var a=r(1469),l=r.n(a)},8167:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var a=r(5453),l=r(574);let s=(0,a.v)((e,t)=>({favourites:[],totalFavourites:0,getFavouriteProducts:()=>{let{favourites:e}=t();return e.map(e=>l.find(t=>t.id.toString()===e)).filter(e=>void 0!==e)},toggleFavourite:r=>{let{favourites:a}=t();if(a.includes(r)){let t=a.filter(e=>e!==r);e({favourites:t,totalFavourites:t.length})}else{let t=[...a,r];e({favourites:t,totalFavourites:t.length})}},isFavourite:e=>{let{favourites:r}=t();return r.includes(e)},clearFavourites:()=>{e({favourites:[],totalFavourites:0})}}))},9235:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});let a={ITEMS_PER_PAGE:3,ITEMS_PER_PAGE_CATEGORY:6,CARD_DISCOUNT_PERCENT:7}}}]);